<div>
  <form #f="ngForm" (ngSubmit)="onSubmit(f)">
    <md-input-container>
      <input mdInput placeholder="Nome" name="nome" [(ngModel)]="dados.nome" required>
    </md-input-container>
    <div class="inline-form">
      <md-input-container style="flex-grow: 2">
        <input mdInput placeholder="tipo" name="tipo" [(ngModel)]="dados.tipo">
      </md-input-container>
      <md-input-container>
        <input mdInput placeholder="Alinhamento" name="alinhamento" [(ngModel)]="dados.alinhamento">
      </md-input-container>
    </div>
    <div class="inline-form">
      <md-input-container>
        <input mdInput placeholder="Classe de Armadura" name="ca" type="number" [(ngModel)]="dados.ca">
      </md-input-container>
      <md-input-container>
        <input mdInput placeholder="Pontos de Vida" name="pv" [(ngModel)]="dados.pv">
      </md-input-container>
      <md-input-container>
        <input mdInput placeholder="Deslocamento" name="deslocamento" [(ngModel)]="dados.deslocamento">
      </md-input-container>
    </div>

    <div class="inline-form">
      <md-input-container align="end">
        <span mdPrefix>FOR:</span>
        <input mdInput type="number" name="for"
          [ngModel]="dados.habilidades?.for"
          (ngModelChange)="dados.habilidades.for=$event">
      </md-input-container>
      <md-input-container align="end">
        <span mdPrefix>DES:</span>
        <input mdInput type="number" name="des"
          [ngModel]="dados.habilidades?.des"
          (ngModelChange)="dados.habilidades.des=$event">
      </md-input-container>
      <md-input-container align="end">
        <span mdPrefix>CON:</span>
        <input mdInput type="number" name="con"
          [ngModel]="dados.habilidades?.con"
          (ngModelChange)="dados.habilidades.con=$event">
      </md-input-container>
      <md-input-container align="end">
        <span mdPrefix>INT:</span>
        <input mdInput type="number" name="int"
          [ngModel]="dados.habilidades?.int"
          (ngModelChange)="dados.habilidades.int=$event">
      </md-input-container>
      <md-input-container align="end">
        <span mdPrefix>SAB:</span>
        <input mdInput type="number" name="sab"
          [ngModel]="dados.habilidades?.sab"
          (ngModelChange)="dados.habilidades.sab=$event">
      </md-input-container>
      <md-input-container align="end">
        <span mdPrefix>CAR:</span>
        <input mdInput type="number" name="car"
          [ngModel]="dados.habilidades?.car"
          (ngModelChange)="dados.habilidades.car=$event">
      </md-input-container>
    </div>
    <md-input-container>
      <input mdInput placeholder="Sentidos" name="sentidos" [(ngModel)]="dados.sentidos">
    </md-input-container>
    <md-input-container>
      <input mdInput placeholder="Idiomas" name="idiomas" [(ngModel)]="dados.idiomas">
    </md-input-container>
    <md-input-container>
      <input mdInput placeholder="Nível de Desafio" name="nd" [(ngModel)]="dados.nd">
    </md-input-container>

    <md-tab-group style="height: 500px" md-stretch-tabs>
      <md-tab label="Habilidades Especiais">
        <ng-template ngFor let-habilit [ngForOf]="dados.habilidadesEspeciais" let-i="index">
          <md-card class="bloco">
            <md-input-container>
              <input mdInput placeholder="Nome"
                name="habi-nome-{{i}}"
                [(ngModel)]="habilit.nome">
            </md-input-container>
            <md-input-container>
              <textarea rows="3" mdInput placeholder="Descrição"
                name="habi-descricao-{{i}}"
                [(ngModel)]="habilit.descricao">
              </textarea>
            </md-input-container>
          </md-card>
        </ng-template>
      </md-tab>
      <md-tab label="Ações">
        <ng-template ngFor let-acoes [ngForOf]="dados.acoes" let-i="index">
          <md-card class="bloco">
            <md-input-container>
              <input mdInput placeholder="Nome"
              name="acoes-nome-{{i}}"
              [(ngModel)]="acoes.nome">
            </md-input-container>
            <md-input-container>
              <textarea rows="3" mdInput placeholder="Descrição"
                name="acoes-descricao-{{i}}"
                [(ngModel)]="acoes.descricao">
              </textarea>
            </md-input-container>
          </md-card>
        </ng-template>
      </md-tab>
      <md-tab label="Ações Lendárias">
        404
      </md-tab>
    </md-tab-group>

    <button color="primary" md-raised-button>Gerar NPC</button>
  </form>
</div>

<div>
  <stat-block>
    <creature-heading>
      <h1>{{dados.nome}}</h1>
      <h2>{{dados.tipo}}, {{dados.alinhamento}}</h2>
    </creature-heading>
    <top-stats>
      <property-line>
        <h4>Classe de Armadura</h4>
        <p>{{dados.ca}}</p>
      </property-line>
      <property-line>
        <h4>Pontos de Vida</h4>
        <p>{{dados.pv}}</p>
      </property-line>
      <property-line>
        <h4>Deslocamento</h4>
        <p>{{dados.deslocamento}}</p>
      </property-line>

      <abilities-block
        [for]="dados.habilidades?.for"
        [des]="dados.habilidades?.des"
        [con]="dados.habilidades?.con"
        [int]="dados.habilidades?.int"
        [sab]="dados.habilidades?.sab"
        [car]="dados.habilidades?.car">
      </abilities-block>

      <property-line>
        <h4>Sentidos</h4>
        <p>{{dados.sentidos}}</p>
      </property-line>
      <property-line>
        <h4>Idiomas</h4>
        <p>{{dados.idiomas}}</p>
      </property-line>
      <property-line>
        <h4>Nível de Desafio</h4>
        <p>{{dados.nd}}</p>
      </property-line>
    </top-stats>

    <ng-template ngFor let-habilit [ngForOf]="dados.habilidadesEspeciais">
      <property-block>
        <h4>{{habilit.nome}}</h4>
        <p>{{habilit.descricao}}</p>
      </property-block>
    </ng-template>

    <h3>Ações</h3>

    <ng-template ngFor let-acoes [ngForOf]="dados.acoes">
      <property-block>
        <h4>{{acoes.nome}}</h4>
        <p>{{acoes.descricao}}</p>
      </property-block>
    </ng-template>

  </stat-block>
</div>
